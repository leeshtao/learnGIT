<?xml version="1.0"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>com.leeshtao</groupId>
    <artifactId>cloudnote.parent</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <relativePath>../parent</relativePath>
  </parent>
  <artifactId>cloudnote.Web</artifactId>
  <packaging>war</packaging>
  <name>cloudnote.Web Maven Webapp</name>
  <dependencies>
    <dependency>
  		<groupId>junit</groupId>
  		<artifactId>junit</artifactId>
  		<version>4.12</version>
  	</dependency>
    <dependency>
    	<groupId>com.leeshtao</groupId>
    	<artifactId>cloudnote.Base</artifactId>
    	<version>0.0.1-SNAPSHOT</version>
    </dependency>
    <dependency>
    	<groupId>com.leeshtao</groupId>
    	<artifactId>cloudnote.Service</artifactId>
    	<version>0.0.1-SNAPSHOT</version>
    </dependency>
    
  </dependencies>
  <build>
    <finalName>cloudnote.Web</finalName>
    <plugins>
		<plugin>
		    <groupId>org.apache.maven.plugins</groupId>
		    <artifactId>maven-jar-plugin</artifactId>
		    <version>2.4</version>
		    <configuration>
		        <archive>
		            <manifest>
		                <addClasspath>true</addClasspath>
		            </manifest>
		        </archive>
		    </configuration>
		</plugin>
		<plugin>  
	        <groupId>org.apache.maven.plugins</groupId>  
	        <artifactId>maven-surefire-plugin</artifactId>  
	        <version>2.4.2</version>  
	        <configuration>  
	          <skipTests>true</skipTests>  
	        </configuration>  
		</plugin>  
	</plugins>
	
	<resources>  
           <resource>  
                <directory>src/main/resources</directory>  
                <includes>  
                	<!-- 扫描传参的配置文件,打包后,更新相关文件 .
                		打包成功后在target.项目.WEB-INF.classes-.config下看
                		到配置文件中各参数的值已经是选择的环境的值
                	-->
                    <include>**/*.xml</include> 
                    <!--
                    	打包成功后在target.项目.WEB-INF.classes-.config下看
                		到.properties文件
                     -->
                    <include>**/*.properties</include>  
                </includes>  
               <filtering>true</filtering> 
               <!-- 不扫描此文件,但是打包成功后在target.项目.WEB-INF.classes-.config下
               		也看不到此文件
               --> 
                <!--  <excludes>  
                    <exclude>**/spring-mvc.xml</exclude>  
                </excludes> --> 
            </resource>  
        </resources>  
  </build>
  
  <profiles>  
        <profile>  
            <id>dev</id>  
            <properties>  
                <profiles.active>dev</profiles.active>  
            </properties>  
            <activation>  
                <activeByDefault>true</activeByDefault>  
            </activation>  
            <build>  
                <filters>  
                    <filter>src/main/resources/conf/dev.properties</filter>  
                </filters>  
            </build>  
        </profile>  
        <profile>  
            <id>test</id>  
            <properties>  
                <profiles.active>test</profiles.active>  
            </properties>  
            <build>  
                <filters>  
                    <filter>src/main/resources/conf/test.properties</filter>  
                </filters>  
            </build>  
        </profile>  
        <profile>  
           <id>prod</id>  
            <properties>  
                <profiles.active>prod</profiles.active>  
            </properties>  
            <build>  
                <filters>  
                    <filter>src/main/resources/conf/prod.properties</filter>  
                </filters>  
            </build>  
        </profile>  
	</profiles>  
</project>
